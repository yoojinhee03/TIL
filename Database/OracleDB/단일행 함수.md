## 단일행 함수



## 오라클의 현재 시간

```sql
SELECT SYSDATE FROM dual;
--20/06/11
SELECT SYSTIMESTAMP FROM dual;
--20/06/11 21:25:55.341000000 +09:00
SELECT LOCALTIMESTAMP FROM dual;
--20/06/11 21:25:37.296000000
```

* SYSTIMESTAMP
  * 시스템의 현재 날짜/시간 
  * TIMESTAMP WITH TIME ZONE 타입을 반환
* LOCALTIMESTAMP
  * TIMESTAMP 타입을 반환

## EXTRACT 함수

* 특정 날짜,시간 값이나 날짜 값 표현식으로부터 지정된 날짜 영역의 값을 추출하여 반환한다.

#### 활용예시

오늘의 날짜를 일, 월, 년도 순으로 출력

```sql
SELECT EXTRACT(DAY FROM SYSDATE) 일자, EXTRACT(MONTH FROM SYSDATE) 월, EXTRACT(YEAR FROM SYSDATE) 년도 FROM dual;
```

## 날짜함수

### MONTHS_BETWEEN(n,m)

```sql
SELECT MONTHS_BETWEEN(SYSDATE,hire_date) FROM employees;
```

* n,m 두 날짜 간의 개월 수 반환
* 반환하는 데이터 타입은 숫자형

### ADD_MONTHS(n,m)

```sql
SELECT ADD_MONTHS(SYSDATE,5) FROM dual;
```

* n 날짜에 m개월을 더한 결과를 반환
* 반환하는 데이터 타입은 날짜형
* m은 일반적으로 정수형이나 실수형 가능(정수형으로 자동변환)

### NEXT_DAY(n,m)

```sql
SELECT NEXT_DAY(SYSDATE,1) FROM dual;
SELECT NEXT_DAY(SYSDATE,'일요일') FROM dual;
```

* n 이후로 지정된 요일에 해당되는 날짜
* m은 요일명, 숫자 입력 가능(1 일요일, 2 일요일,...,7 토요일)

### LAST_DAY(n)

```sql
SELECT LAST_DAY(SYSDATE) FROM dual;
```

* n 날짜에 해당 월의 마지막 날짜 반환

### ROUND(n,fm)

```SQL
SELECT ROUND(SYSDATE,'DD') FROM dual;
```

* 날짜를 [포맷모델]()인 fm(년,월,일) 단위로 **반올림**

### TRUNC(n,fm)

```sql
SELECT TRUNC(SYSDATE,'DD') FROM dual;
```

* 날짜를 [포맷모델]()인 fm(년,월,일) 단위로 **버림**



## 포맷모델

| 포맷 모델              | 단위                                             |
| ---------------------- | ------------------------------------------------ |
| YEAR, YYYY, YYY, YY, Y | · 년 <br>· 7월1일부터 반올림                     |
| Q                      | · 분기 <br>· 한 분기 두번째 달의 16일부터 반올림 |
| MONTH, MON, MM, RM     | · 월 <br>· 16일부터 반올림                       |
| DD                     | · 일 <br>· 오후 12시부터 반올림                  |
| HH                     | · 시간<br>· 30분부터 반올림                      |
| MI                     | · 분 <br>· 30초부터 반올림                       |

